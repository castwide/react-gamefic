# react-gamefic

React components for Gamefic.

## Requirements

This project requires Node, Ruby, and the Gamefic SDK. The SDK is available as a RubyGem:

    $ gem install gamefic-sdk

## Using React and Gamefic

Run the following commands to create a new Gamefic project that targets the React platform:

    $ gamefic init my-game
	$ cd my-game
	$ rake web:generate
    $ npm install
    $ rake web:build

The `web:generate` task creates the React application in the web directory. The `web:build` task compiles the application in builds/web.

## How It Works

The default JSX generated by the Gamefic SDK looks something like this:

```
<Console driver={driver}>
  <Terminal />
</Console>
```

### The `Console` Component

The `Console` is the top-level game container. It accepts a `driver` prop and renders scenes.

The `driver` prop accepts a Driver object as defined in the [gamefic-driver](https://github.com/castwide/gamefic-driver) package.

The `Console` sends the following props to scenes:
* `output` - A hash representing the current state of the game.
* `history` - A chronological array of outputs.
* `handleInput` - A callback that components can use to send player commands back to the game.


### Scenes
* `Activity` - The top-level component for Activity scenes.
* `MultipleChoice` - The top-level component for Multiple Choice scenes.
* `YesOrNo` - A specialized `MultipleChoice` scene.
* `Pause` - The top-level component for Pause scenes.
* `Conclusion` - The top-level component for Conclusion scenes.

### Scene Components

* `CommandForm` - A form with a text input for accepting typed commands.
* `CommandLink` - A link that triggers a command.
* `History` - A collection of previous Turns.
* `Turn` - The display for a single turn's output. Also used in History and Output.
* `HtmlText` - A display container for messages.
* `OptionList` - A list of command links, such as the options in Multiple Choice scene.

## Built-in Styles

The react-gamefic package includes several styles that can be imported into projects. To import the `terminal` style, for example:

    import 'react-gamefic/styles/terminal'; // Import the built-in style first
    import './style.css';                   // Import your own style second to add your customizations

The following styles are available:

* `normal`: A minimal foundation for responsiveness and readability. The other built-in styles import `normal` first.
* `ebook`: A simple black-on-white text style.
* `terminal`: A green-on-black style designed to emulate command-line terminals.

## Custom Components

Developers can create custom scenes and UI widgets as React components.
